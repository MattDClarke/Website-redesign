const contactForm=document.getElementById("form"),name=document.getElementById("formName"),email=document.getElementById("formEmail"),userMessage=document.getElementById("formUserMessage");function checkInputs(){const nameRaw=DOMPurify.sanitize(name.value,{FORBID_ATTR:["width","height","style"],FORBID_TAGS:["style"]}),emailRaw=DOMPurify.sanitize(email.value,{FORBID_ATTR:["width","height","style"],FORBID_TAGS:["style"]}),userMessageRaw=DOMPurify.sanitize(userMessage.value,{FORBID_ATTR:["width","height","style"],FORBID_TAGS:["style"]}),nameValue=nameRaw.trim(),emailValue=emailRaw.trim(),userMessageValue=userMessageRaw.trim();""===nameValue?setErrorFor(name,"Please add your name"):setSuccessFor(name),""===emailValue?setErrorFor(email,"Please add your email"):isEmail(emailValue)?setSuccessFor(email):setErrorFor(email,"Please add a valid email address"),""===userMessageValue?setErrorFor(userMessage,"Please add a message"):userMessageValue.length>5e3?setErrorFor(userMessage,"Max length = 5000 characters"):setSuccessFor(userMessage),""===nameValue||""===emailValue||!isEmail(emailValue)||""===userMessageValue||userMessageValue.length>5e3||contactForm.submit()}function setErrorFor(input,message){const formGroup=input.parentElement,small=formGroup.querySelector("small");small.innerText=message,formGroup.className="form-group error"}function setSuccessFor(input){const formGroup=input.parentElement;formGroup.className="form-group success"}function isEmail(email){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)}contactForm.addEventListener("submit",e=>{e.preventDefault(),checkInputs()});